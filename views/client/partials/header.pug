nav.navbar.navbar-dark.bg-dark.fixed-top.shadow-sm.py-2
    .container-fluid.d-flex.align-items-center.justify-content-between
        //- Nút toggle sidebar
        button#toggleSidebar.btn.btn-link.btn-icon(type="button", aria-label="Toggle sidebar", aria-expanded="false")
            i.fas.fa-bars.fa-lg.text-white

        //- Logo
        a.navbar-brand.ml-2.font-weight-bold.text-white(href="/topics") MusicApp

        //- Nút thông báo
        li.nav-item.dropdown.mx-2
            a#notificationDropdown.nav-link.position-relative.text-white(
                href="#"
                role="button"
                data-toggle="dropdown"
                aria-haspopup="true"
                aria-expanded="false"
            )
                i.fas.fa-bell.fa-lg

                //- Badge số lượng thông báo
                if notificationsCount && notificationsCount > 0
                    span.badge.badge-danger.position-absolute(
                        style="top: 0; right: 0; transform: translate(50%, -30%); font-size: 10px;"
                    ) #{notificationsCount}

            //- Dropdown danh sách thông báo
            ul.dropdown-menu.dropdown-menu-right.shadow(aria-labelledby="notificationDropdown")
                if notifications && notifications.length > 0
                    each noti in notifications
                        li.px-3.py-2.border-bottom
                            a.text-dark.text-decoration-none(href=noti.link)
                                strong #{noti.title}
                                br
                                span.text-muted(style="font-size: 12px;")
                                    | #{new Date(noti.createdAt).toLocaleString('vi-VN')}
                    li.text-center.p-2
                        a.text-primary(href="/notifications") Xem tất cả
                else
                    li.p-3.text-center.text-muted Không có thông báo mới


        //- Thanh tìm kiếm ở giữa
        form#searchForm.mx-auto.d-flex.align-items-center(
            role="search",
            action="/song/search/result",
            method="GET"
        )
            .search-container.position-relative
                input#searchInput.form-control.rounded-pill(
                    type="text",
                    name="q",
                    placeholder="Tìm bài hát...",
                    autocomplete="off",
                    value=keyword
                )
                button#searchBtn.btn.btn-link.position-absolute(type="submit")
                    i.fas.fa-search

                .inner-suggest
                    .inner-list
                        //a.inner-item(href="/songs/detail/:slugSong")
                        //    .inner-image
                        //        img(src="https://backend.daca.vn/assets/images/cat-doi-noi-sau.jpg")
                        //    .inner-info
                        //        .inner-title Cát Đôi Nỗi Sầu
                        //        .inner-singer
                        //            i.fa-solid.fa-microphone-lines
                        //            |  Tăng Duy Tân
                        //
                        //a.inner-item(href="/songs/detail/:slugSong")
                        //    .inner-image
                        //        img(src="https://backend.daca.vn/assets/images/ngay-mai-nguoi-ta-lay-chong.jpg")
                        //    .inner-info
                        //        .inner-title Ngày Mai Người Ta Lấy Chồng
                        //        .inner-singer
                        //            i.fa-solid.fa-microphone-lines
                        //            |  Thành Đạt

        //- Menu phải
        ul.navbar-nav.ml-auto.d-flex.flex-row.align-items-center
            if !user
                li.nav-item.mx-2
                    a.nav-link.text-white(href="/auth/register") Đăng kí
                li.nav-item.mx-2
                    a.nav-link.text-white(href="/auth/login") Đăng nhập
            else
                li.nav-item.dropdown
                    a.nav-link.dropdown-toggle.text-white#userDropdown(
                        href="#"
                        role="button"
                        data-toggle="dropdown"
                        aria-haspopup="true"
                        aria-expanded="false"
                    )
                        if user.avatar
                            img.rounded-circle.mr-2(src=user.avatar, alt="avatar", width="28", height="28")
                        else
                            i.fas.fa-user-circle.fa-lg.mr-1
                        | #{user.fullName || user.email}
                    ul.dropdown-menu.dropdown-menu-right(aria-labelledby="userDropdown")
                        li
                            a.dropdown-item(href="/profile") Hồ sơ cá nhân
                        li.divider.dropdown-divider
                        li
                            a.dropdown-item.text-danger(href="/auth/logout") Đăng xuất
